<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>How does it work?
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="BlueMountain Capital;FsLab">
    <link rel="shortcut icon" type="image/x-icon" href="https://fslab.org/RProvider//img/favicon.ico">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->

    <link type="text/css" rel="stylesheet" href="https://fslab.org/RProvider/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="https://fslab.org/RProvider/content/fsdocs-custom.css" />
    <script type="text/javascript" src="https://fslab.org/RProvider/content/fsdocs-tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
</head> 

<body>
    <div class="columns is-fullheight m-0">
        <div id="fsdocs-menu" class="column is-2 is-paddingless">
            <aside class="menu">
                <div class="container is-paddingless is-marginless has-background-dark">
                    <a href="https://fslab.org/RProvider/">
                        <figure class="image is-128x128 container">
                            <img src="https://raw.githubusercontent.com/fslaborg/RProvider/master/docs/img/logo.png">
                        </figure>
                    </a>
                    <h2 class="title has-text-centered has-text-white pb-4">RProvider</h2>
                </div>
                <div class="content">
                    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
                    <div id="header">
                        <div class="field">
                            <div class="control has-icons-left has-icons-right searchbox" id="fsdocs-searchbox">
                                <input data-search-input="" id="search-by" type="search" placeholder="Search..." class="input"/>
                                <span class="icon is-small is-left">
                                    <i class="fas fa-search"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <!-- END SEARCH BOX: this adds support for the search box -->
                    <ul class="navbar-nav">
                        <li class="nav-header">Links</li>
                        <li class="nav-item" id="fsdocs-license-link"><a class="nav-link" href="https://github.com/fslaborg/RProvider/blob/master/LICENSE.md">License (MIT)</a></li>
                        <li class="nav-item" id="fsdocs-release-notes-link"><a class="nav-link" href="https://github.com/fslaborg/RProvider/blob/master/RELEASE_NOTES.md">Release Notes</a></li>
                        <li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="https://github.com/fslaborg/RProvider/">Source Repository</a></li>
                        <li class="nav-header">
  Documentation
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/tutorial.html">
    R Provider Tutorial

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/requirements.html">
    Requirements: Getting Started

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/howto.html">
    How to

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/passing-data.html">
    Passing Data Between F# and R

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/quickstart-statistics.html">
    Quickstart: Using Statistical Packages

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/quickstart-charts.html">
    Quickstart: Creating Charts

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/whatwhy.html">
    Whats and Whys

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/expressions.html">
    Working with R expressions

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/operators.html">
    Operators

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/reading-rdata.html">
    Reading and writing RData files

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/fslab.html">
    Working with the FsLab ecosystem

  </a>
</li>             
<li class="nav-header">
  Developer
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/devnotes.html">
    Developer notes

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/internals.html">
    How does it work?

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/plugins.html">
    Plugins

  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/diagnostics.html">
    Diagnostics and debugging

  </a>
</li>
                        <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fslab.org/RProvider/reference/index.html">
    All Namespaces
  </a>
</li>
                    </ul>
                </div>
            </aside>
        </div>
        <div class="column is-10 is-paddingless">
            <div class="section pt-4">
                <div class="container" id="fsdocs-content">
                    
<h1><a name="How-does-it-work" class="anchor" href="#How-does-it-work">How does it work?</a></h1>
<h2><a name="How-do-we-call-into-R" class="anchor" href="#How-do-we-call-into-R">How do we call into R?</a></h2>
<p>The RProvider loads the R.DLL (which contains the core of R) into the calling process, via <a href="http://rdotnet.codeplex.com/">RDotNet</a>.  This will happen in several places:</p>
<ul>
<li>In the IDE, to provide IntelliSense for packages/functions/parameters.</li>
<li>In the F# compiler, to generate code that calls the R functionality you are calling.</li>
<li>In your resulting binary, to execute the generated code.</li>
<li>In F# Interactive, to do all of the above interactively.</li>
</ul>
<h2><a name="How-does-RDotNet-help" class="anchor" href="#How-does-RDotNet-help">How does RDotNet help?</a></h2>
<p>RDotNet allows R functionality to be called from .NET, and exposes an object model for representing R values (based on the type RDotNet.SymbolExpression).  Using RDotNet, one executes R code by passing strings of R code into an Evaluate method.  From the RProvider, we introspect on available R packages and functions and expose them as members of provided types.  You can then call them just like regular .NET functions, with IntelliSense and compile-time checking.  RDotNet.SymbolicExpression provides a nice OO model of the R native SEXP type, so we simply expose results using that type.  To make it more friendly from F#, we extend it with some extension members and active patterns.</p>
<h2><a name="How-do-we-expose-R-packages" class="anchor" href="#How-do-we-expose-R-packages">How do we expose R packages?</a></h2>
<p>RProvider determines the set of installed packages in your R installation and exposes them as namespaces under the root RProvider namespace.  This allows you to 'open' the namespaces you want to use as if they were regular .NET namespaces.</p>
<p>Under the namespace for a given package, RProvider exposes a single static type called "R", which contains static methods mirroring each of the functions and values that exist in the package.  This means that the members under "R." will be the union of available functions in all of the package namespaces you have opened.</p>
<h2><a name="Is-it-Statically-Typed" class="anchor" href="#Is-it-Statically-Typed">Is it Statically Typed?</a></h2>
<p>Kind of.  It is statically type checked to the extent that it can be given the type information available from R.  In practice, this means that the F# compiler and IDE statically checks that the function you are calling exists in the package you are calling.  In some cases, we can also determine that you are not passing too many arguments to the function, though common use of ... (aka varargs/params) in R functions defeats that in many cases.</p>
<p>R is dynamically typed, so we cannot determine what the types of function arguments are supposed to be.  So all arguments are of type obj.  R functions can also be written such that they will work even if arguments that do not have default values are omitted, so we expose each argument as optional.  And for R functions that accept a ... argument, we expose a paramarray argument that allows any number of additional arguments to be passed.  In that case, you can basically pass any number of arguments to the function.</p>

                </div>
            </div>
        </div>
        
    </div>

    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <script type="text/javascript">var fsdocs_search_baseurl = 'https://fslab.org/RProvider/'</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
    <script type="text/javascript" src="https://fslab.org/RProvider/content/fsdocs-search.js"></script>
    <!-- END SEARCH BOX: this adds support for the search box -->
</body>

</html>